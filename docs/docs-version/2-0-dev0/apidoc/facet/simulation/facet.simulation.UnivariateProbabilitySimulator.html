
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>facet.simulation.UnivariateProbabilitySimulator &#8212; facet  documentation</title>
    
  <link rel="stylesheet" href="../../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/gamma.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/gamma.js"></script>
    <script src="../../../_static/js/versions.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="facet.simulation.UnivariateSimulationResult" href="facet.simulation.UnivariateSimulationResult.html" />
    <link rel="prev" title="facet.simulation.BaseUnivariateSimulator" href="facet.simulation.BaseUnivariateSimulator.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../../index.html">
    
      <img src="../../../_static/Gamma_Facet_Logo_RGB_LB.svg" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../getting_started/getting_started.html">Getting started</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../../facet.html">API reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../tutorials.html">Tutorials</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../contribution_guide.html">Development Guidelines</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../faqs.html">FAQ</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../about_us.html">About us</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../../release_notes.html">Release Notes</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
        
          
            
                <li class="">
                    <a href="../facet.crossfit.html">facet.crossfit</a>
                </li>
            
          
            
                <li class="">
                    <a href="../facet.data.html">facet.data</a>
                </li>
            
          
            
                <li class="">
                    <a href="../facet.inspection.html">facet.inspection</a>
                </li>
            
          
            
                <li class="">
                    <a href="../facet.selection.html">facet.selection</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="../facet.simulation.html">facet.simulation</a>
                    <ul>
                    
                        <li class="">
                            <a href="facet.simulation.BaseUnivariateSimulator.html">facet.simulation.BaseUnivariateSimulator</a>
                        </li>
                    
                        <li class="active">
                            <a href="">facet.simulation.UnivariateProbabilitySimulator</a>
                        </li>
                    
                        <li class="">
                            <a href="facet.simulation.UnivariateSimulationResult.html">facet.simulation.UnivariateSimulationResult</a>
                        </li>
                    
                        <li class="">
                            <a href="facet.simulation.UnivariateTargetSimulator.html">facet.simulation.UnivariateTargetSimulator</a>
                        </li>
                    
                        <li class="">
                            <a href="facet.simulation.UnivariateUpliftSimulator.html">facet.simulation.UnivariateUpliftSimulator</a>
                        </li>
                    
                        <li class="">
                            <a href="facet.simulation.viz.html">facet.simulation.viz</a>
                        </li>
                    
                    </ul>
                </li>
            
          
            
                <li class="">
                    <a href="../facet.validation.html">facet.validation</a>
                </li>
            
          
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="facet-simulation-univariateprobabilitysimulator">
<h1>facet.simulation.UnivariateProbabilitySimulator<a class="headerlink" href="#facet-simulation-univariateprobabilitysimulator" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="facet.simulation.UnivariateProbabilitySimulator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">facet.simulation.</span></code><code class="sig-name descname"><span class="pre">UnivariateProbabilitySimulator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crossfit</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_dispatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/facet/simulation/_simulation.html#UnivariateProbabilitySimulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Univariate simulation of positive class probabilities based on a binary classifier.</p>
<p>The simulation is carried out for one specific feature <cite>x[i]</cite> of a model, and for a
range of values <cite>v[1]</cite>, …, <cite>v[n]</cite> for <cite>f</cite>, determined by a <a class="reference internal" href="../data/partition/facet.data.partition.Partitioner.html#facet.data.partition.Partitioner" title="facet.data.partition.Partitioner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Partitioner</span></code></a>
object.</p>
<p>For each value <cite>v[j]</cite> of the partitioning, a <a class="reference internal" href="../data/facet.data.Sample.html#facet.data.Sample" title="facet.data.Sample"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sample</span></code></a> of historical
observations is modified by assigning value <cite>v[j]</cite> for feature <cite>x[i]</cite> for all
observations, i.e., assuming that feature <cite>x[i]</cite> has the constant value <cite>v[j]</cite>.</p>
<p>Then all classifiers of a <a class="reference internal" href="../crossfit/facet.crossfit.LearnerCrossfit.html#facet.crossfit.LearnerCrossfit" title="facet.crossfit.LearnerCrossfit"><code class="xref py py-class docutils literal notranslate"><span class="pre">LearnerCrossfit</span></code></a> are used in turn to each predict
the positive class probabilities for all observations, and the mean probability
across all observations is calculated for each classifier and value <cite>v[j]</cite>.
The simulation result is a set of <cite>n</cite> distributions of mean predicted probabilities
across all classifiers – one distribution for each <cite>v[j]</cite>.</p>
<p>Note that sample weights are not taken into account for simulations; each
observation has the same weight in the simulation even if different weights
have been specified for the sample.</p>
<p>Also, care should be taken to re-calibrate classifiers trained on weighted samples
as the weighted samples will impact predicted class probabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">Bases</dt>
<dd class="field-odd"><p><a class="reference internal" href="facet.simulation.BaseUnivariateSimulator.html#facet.simulation.BaseUnivariateSimulator" title="facet.simulation.BaseUnivariateSimulator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseUnivariateSimulator</span></code></a> [<a class="reference external" href="https://bcg-gamma.github.io/sklearndf/apidoc/sklearndf/pipeline/sklearndf.pipeline.ClassifierPipelineDF.html#sklearndf.pipeline.ClassifierPipelineDF" title="(in sklearndf v1.2.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClassifierPipelineDF</span></code></a>]</p>
</dd>
<dt class="field-even">Metaclasses</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/abc.html#abc.ABCMeta" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABCMeta</span></code></a></p>
</dd>
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crossfit</strong> (<a class="reference internal" href="../crossfit/facet.crossfit.LearnerCrossfit.html#facet.crossfit.LearnerCrossfit" title="facet.crossfit.LearnerCrossfit"><code class="xref py py-class docutils literal notranslate"><span class="pre">LearnerCrossfit</span></code></a>[~T_LearnerPipelineDF]) – cross-validated crossfit of a model for all observations
in a given sample</p></li>
<li><p><strong>subsample</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Index.html#pandas.Index" title="(in pandas v1.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>]) – an optional index referencing a subset of the training sample
to be used in baseline calculations and simulations</p></li>
<li><p><strong>confidence_level</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – the width <span class="math notranslate nohighlight">\(\alpha\)</span> of the confidence interval
determined by bootstrapping, with <span class="math notranslate nohighlight">\(0 &lt; \alpha &lt; 1\)</span>;
for reliable CI estimates the number of splits in the crossfit should be
at least <span class="math notranslate nohighlight">\(n = \frac{50}{1 - \alpha}\)</span>, e.g. <span class="math notranslate nohighlight">\(n = 1000\)</span> for
<span class="math notranslate nohighlight">\(\alpha = 0.95\)</span></p></li>
<li><p><strong>n_jobs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – number of jobs to use in parallel;
if <code class="docutils literal notranslate"><span class="pre">None</span></code>, use joblib default (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>shared_memory</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>]) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, use threads in the parallel runs; if
<code class="docutils literal notranslate"><span class="pre">False</span></code>, use multiprocessing (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><strong>pre_dispatch</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Union" title="(in Python v3.6)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3.6/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]) – number of batches to pre-dispatch;
if <code class="docutils literal notranslate"><span class="pre">None</span></code>, use joblib default (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/typing.html#typing.Optional" title="(in Python v3.6)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – verbosity level used in the parallel computation;
if <code class="docutils literal notranslate"><span class="pre">None</span></code>, use joblib default (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Method summary</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#facet.simulation.UnivariateProbabilitySimulator.baseline" title="facet.simulation.UnivariateProbabilitySimulator.baseline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">baseline</span></code></a></p></td>
<td><p>Calculate the expectation value of the simulation result, based on historically observed actuals.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#facet.simulation.UnivariateProbabilitySimulator.expected_output" title="facet.simulation.UnivariateProbabilitySimulator.expected_output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">expected_output</span></code></a></p></td>
<td><p>Calculate the actual observed frequency of the positive class as the baseline of the simulation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#facet.simulation.UnivariateProbabilitySimulator.simulate_actuals" title="facet.simulation.UnivariateProbabilitySimulator.simulate_actuals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">simulate_actuals</span></code></a></p></td>
<td><p>For each test split <span class="math notranslate nohighlight">\(\mathrm{T}_i\)</span> in this simulator’s crossfit, predict the outputs for all test samples given their actual feature values, and calculate the absolute deviation from the mean of all actual outputs of the entire sample <span class="math notranslate nohighlight">\(\frac{1}{n}\sum_{j \in \mathrm{T}_i}\hat y_j - \bar y\)</span>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#facet.simulation.UnivariateProbabilitySimulator.simulate_feature" title="facet.simulation.UnivariateProbabilitySimulator.simulate_feature"><code class="xref py py-obj docutils literal notranslate"><span class="pre">simulate_feature</span></code></a></p></td>
<td><p>Simulate the average target uplift when fixing the value of the given feature across all observations.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attribute summary</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">COL_OUTPUT</span></code></p></td>
<td><p>The name of a series of simulated outputs.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">IDX_PARTITION</span></code></p></td>
<td><p>The name of the column index of attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">output</span></code>, denoting partitions represented by their central values or by a category.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">IDX_SPLIT</span></code></p></td>
<td><p>The name of the row index of attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">output</span></code>, denoting splits.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#facet.simulation.UnivariateProbabilitySimulator.output_unit" title="facet.simulation.UnivariateProbabilitySimulator.output_unit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">output_unit</span></code></a></p></td>
<td><p>Unit of the output values calculated by the simulation.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Definitions</p>
<dl class="py method">
<dt id="facet.simulation.UnivariateProbabilitySimulator.baseline">
<code class="sig-name descname"><span class="pre">baseline</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.baseline" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the expectation value of the simulation result, based on historically
observed actuals.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the expectation value of the simulation results</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="facet.simulation.UnivariateProbabilitySimulator.expected_output">
<code class="sig-name descname"><span class="pre">expected_output</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/facet/simulation/_simulation.html#UnivariateProbabilitySimulator.expected_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.expected_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the actual observed frequency of the positive class as the baseline
of the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>observed frequency of the positive class</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="facet.simulation.UnivariateProbabilitySimulator.simulate_actuals">
<code class="sig-name descname"><span class="pre">simulate_actuals</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.simulate_actuals" title="Permalink to this definition">¶</a></dt>
<dd><p>For each test split <span class="math notranslate nohighlight">\(\mathrm{T}_i\)</span> in this simulator’s
crossfit, predict the outputs for all test samples given their actual
feature values, and calculate the absolute deviation from the mean of all actual
outputs of the entire sample
<span class="math notranslate nohighlight">\(\frac{1}{n}\sum_{j \in \mathrm{T}_i}\hat y_j - \bar y\)</span>.</p>
<p>The spread and offset of these deviations can serve as an indication of how the
bias of the model contributes to the uncertainty of simulations produced with
method <a class="reference internal" href="#facet.simulation.UnivariateProbabilitySimulator.simulate_feature" title="facet.simulation.UnivariateProbabilitySimulator.simulate_feature"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simulate_feature()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>series mapping split IDs to deviations of simulated mean outputs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="facet.simulation.UnivariateProbabilitySimulator.simulate_feature">
<code class="sig-name descname"><span class="pre">simulate_feature</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitioner</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.simulate_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate the average target uplift when fixing the value of the given feature
across all observations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_name</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – the feature to run the simulation for</p></li>
<li><p><strong>partitioner</strong> (<a class="reference internal" href="../data/partition/facet.data.partition.Partitioner.html#facet.data.partition.Partitioner" title="facet.data.partition.Partitioner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Partitioner</span></code></a>[~T_Partition]) – the partitioner of feature values to run simulations for</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="facet.simulation.UnivariateSimulationResult.html#facet.simulation.UnivariateSimulationResult" title="facet.simulation.UnivariateSimulationResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnivariateSimulationResult</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a mapping of output names to simulation results</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="facet.simulation.UnivariateProbabilitySimulator.n_jobs">
<code class="sig-name descname"><span class="pre">n_jobs</span></code><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.n_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of jobs to use in parallel; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, use joblib default.</p>
</dd></dl>

<dl class="py method">
<dt id="facet.simulation.UnivariateProbabilitySimulator.output_unit">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">output_unit</span></code><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.output_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit of the output values calculated by the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="facet.simulation.UnivariateProbabilitySimulator.pre_dispatch">
<code class="sig-name descname"><span class="pre">pre_dispatch</span></code><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.pre_dispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of batches to pre-dispatch; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, use joblib default.</p>
</dd></dl>

<dl class="py attribute">
<dt id="facet.simulation.UnivariateProbabilitySimulator.shared_memory">
<code class="sig-name descname"><span class="pre">shared_memory</span></code><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.shared_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, use threads in the parallel runs;
if <code class="docutils literal notranslate"><span class="pre">False</span></code>, use multiprocessing.</p>
</dd></dl>

<dl class="py attribute">
<dt id="facet.simulation.UnivariateProbabilitySimulator.verbose">
<code class="sig-name descname"><span class="pre">verbose</span></code><a class="headerlink" href="#facet.simulation.UnivariateProbabilitySimulator.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Verbosity level used in the parallel computation;
if <code class="docutils literal notranslate"><span class="pre">None</span></code>, use joblib default.</p>
</dd></dl>

</dd></dl>

</section>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="facet.simulation.BaseUnivariateSimulator.html" title="previous page">facet.simulation.BaseUnivariateSimulator</a>
    <a class='right-next' id="next-link" href="facet.simulation.UnivariateSimulationResult.html" title="next page">facet.simulation.UnivariateSimulationResult</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../../_static/js/index.d3f166471bb80abb5163.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2021, Boston Consulting Group (BCG).<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>